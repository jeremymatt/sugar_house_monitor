# Example Pump Pi env file
# Copy to ../pump_pi.env on the pump controller Pi.

ROLE=pump_pi
API_BASE_URL=https://example.com/sugar_house_monitor/api
API_KEY=REPLACE_ME_WITH_GENERATED_KEY
DB_PATH=data/pump_pi.db
DB_RETENTION_DAYS=365
UPLOAD_BATCH_SIZE=10
UPLOAD_INTERVAL_SECONDS=1
HANDSHAKE_INTERVAL_SECONDS=30
# Disk usage reporting for storage warning card
DISK_USAGE_PATH=~
# Optional cadence (seconds) for storage updates (defaults to 300)
# STORAGE_HEARTBEAT_SECONDS=300
# GPIO + MCP3008
PUMP_CONTROL_PIN=17
ADC_REFERENCE_VOLTAGE=5
ADC_BOOL_THRESHOLD_V=1.0
ADC_DEBOUNCE_SAMPLES=3
ADC_DEBOUNCE_DELAY=0.01
# ADC control pins: P5=service_on, P6=service_off, P7=clear_fatal
CONTROL_HOLD_SECONDS=5
WATCHDOG_LOG_INTERVAL_SECONDS=5
DEBUG_SIGNAL_LOG=false
# Signals summary logging
VERBOSE=false
# State machine / safety
ERROR_THRESHOLD=30
LOOP_DELAY=0.1
# Vacuum sampling
VACUUM_REFRESH_RATE=1
VACUUM_CAL_PATH=scripts/vacuum_cal.csv
VACUUM_UPLOAD_BATCH_SIZE=10
VACUUM_UPLOAD_INTERVAL_SECONDS=1
# Error upload
ERROR_UPLOAD_BATCH_SIZE=10
ERROR_UPLOAD_INTERVAL_SECONDS=1
# ADC cache (multi-process)
ADC_CACHE_PATH=/dev/shm/pump_adc_cache.json
ADC_SAMPLE_INTERVAL_SECONDS=0.02
# ADC_SAMPLE_HZ=50
ADC_STALE_SECONDS=2
ADC_STALE_FATAL_SECONDS=10

#########################################
# LED Status Indicator Configuration
#########################################
# GPIO Pin Assignments (BCM numbering)
STATUS_LED_RED_PIN=21               # GPIO pin for red LED anode (error/warning states)
STATUS_LED_GREEN_PIN=20             # GPIO pin for green LED anode (normal operation)

# LED Blink Rates (Hz = cycles per second)
LED_BLINK_RATE_AUTO=1.0             # Auto pump cycle blink rate (green)
LED_BLINK_RATE_MANUAL=2.0           # Manual pump cycle blink rate (green)
LED_BLINK_RATE_FATAL=2.0            # Fatal error blink rate (red)
LED_BLINK_RATE_STALE=1.0            # ADC stale warning blink rate (red)
LED_ALTERNATING_RATE=1.0            # Cache stale alternating pattern rate

# LED Controller Timing
LED_CACHE_STALE_SECONDS=5.0         # State cache staleness threshold
LED_LOOP_DELAY=0.05                 # LED update loop interval (50ms for smooth blink)
